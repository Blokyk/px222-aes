#include "utilsTest.h"
#include "utils.h"

void testUtils() {
    printf("TEST: linear2block... \t");

    byte l1[16] = { 0x0, 0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9, 0xa, 0xb, 0xc, 0xd, 0xe, 0xf };
    byte b1[4][4];

    byte v1[4][4] = {
        { 0x0, 0x4, 0x8, 0xc},
        { 0x1, 0x5, 0x9, 0xd},
        { 0x2, 0x6, 0xa, 0xe},
        { 0x3, 0x7, 0xb, 0xf}
    };

    linear_to_column_first_block(l1, b1);
    check_block(b1, v1);

    ok();


    printf("TEST: block2linear... \t");

    byte b2[4][4] = {
        { 0x0, 0x4, 0x8, 0xc },
        { 0x1, 0x5, 0x9, 0xd },
        { 0x2, 0x6, 0xa, 0xe },
        { 0x3, 0x7, 0xb, 0xf }
    };

    byte l2[16];

    byte v2[16] = { 0x0, 0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9, 0xa, 0xb, 0xc, 0xd, 0xe, 0xf };

    column_first_block_to_linear(b2, l2);

    assert(eq_array(l2, v2, 16));

    ok();
}